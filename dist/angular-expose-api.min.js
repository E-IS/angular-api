/* angular-expose-api v0.3.1 - minified */
!function(e,r,t){"use strict";r.module("ngApi",[]).factory("Api",["$q","$rootScope",function(e,t){var n=function(e,r){this.gantt=e,this.apiId=r,this.eventListeners=[]};function i(e,r,n,i){return t.$on(e,(function(){var e=Array.prototype.slice.call(arguments);e.splice(0,1),r.apply(i||n,e)}))}return n.prototype.suppressEvents=function(e,t){var n=this,o=r.isArray(e)?e:[e],s=[];o.forEach((function(e){s=n.eventListeners.filter((function(r){return e===r.handler}))})),s.forEach((function(e){e.dereg()})),t(),s.forEach((function(e){e.dereg=i(e.eventId,e.handler,n.gantt,e._this)}))},n.prototype.registerEvent=function(r,n){var o=this;o[r]||(o[r]={});var s=o[r];s.on||(s.on={},s.raise={},s.raisePromise={});var c="event:api:"+this.apiId+":"+r+":"+n;s.raise[n]=function(){t.$emit.apply(t,[c].concat(Array.prototype.slice.call(arguments)))},s.raisePromise[n]=function(){var r=t.$$listenerCount[c];if(!r)return e.when();var n=e.defer();r>1&&((n={promise:n.promise,notify:n.notify,raw:n,count:0,errors:[],results:[]}).checkFinish=function(){n.count<r||(n.count=0,n.errors.length?(1==n.errors.length?n.raw.reject(n.errors[0]):n.raw.reject(n.errors),n.errors=[]):(n.raw.resolve(n.results),n.results=[]))},n.resolve=function(e){n.results.push(e),n.count++,n.checkFinish()},n.reject=function(e){n.errors.push(e),n.count++,n.checkFinish()});var i=[c].concat(Array.prototype.slice.call(arguments)).concat([n]);return t.$emit.apply(t,i),n.promise},s.on[n]=function(e,r,t){var n={handler:r,dereg:i(c,r,o.gantt,t),eventId:c,scope:e,_this:t};o.eventListeners.push(n);var s=function(){n.dereg();var e=o.eventListeners.indexOf(n);o.eventListeners.splice(e,1)};return e.$on("$destroy",(function(){s()})),s}},n.prototype.hasListeners=function(e,t){var n=this,o=r.isArray(e)?e:[e],s=[];o.forEach((function(e){s=n.eventListeners.filter((function(r){return e===r.handler}))})),s.forEach((function(e){e.dereg()})),t(),s.forEach((function(e){e.dereg=i(e.eventId,e.handler,n.gantt,e._this)}))},n.prototype.registerMethod=function(e,r,t,n){this[e]||(this[e]={}),this[e][r]=function(){t.apply(n||this.app,arguments)}},n}])}(window,window.angular);
//# sourceMappingURL=maps/angular-expose-api.min.js.map
